<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at 2015-10-05 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="keywords" content="jmx, rest, json, http, agent, jmx-rest-bridge, java, jmx4perl, jsr-160, jmx-rest"/>
    <title>Jolokia &#x2013; Overview</title>
    <style type="text/css" media="all">
      @import url("../css/reset.css");
      @import url("../css/text.css");
      @import url("../css/960_24_col.css");
      @import url("../css/maven-base.css");
      @import url("../css/prettify.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <script data-cfasync="false" type="text/javascript">
       var host = "jolokia.org";
       if ((host == window.location.host) && (window.location.protocol != "https:")) {
            window.location.protocol = "https";
       }
    </script>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9534565-3']);
  _gaq.push(['_setDomainName', '.jolokia.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    <script type="text/javascript" src="../js/prettify/prettify.js"></script>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <link rel="icon" type="image/png" href="../images/favicon.png" />
      <meta name="author" content="Roland Huss" />
    <meta name="Date-Revision-yyyymmdd" content="20151005" />
    <meta http-equiv="Content-Language" content="en" />
     
  </head>
  <body class="composite" onload="prettyPrint()">
    <div class="container_24">

      <!-- Header -->
      <div class="grid_24 header">
        <div></div>
      </div>
      <div class="clear"></div>

      <!-- Top-Bar  -->
      <div class="grid_24 top_bar">
          <div class="top_left"></div>
      <div class="top_link">
        <a href="../index.html">Home</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../download.html">Download</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../features-nb.html">Features</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../documentation.html">Documentation</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../support.html">Support</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="https://ro14nd.de">Blog</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../about.html">About</a>
    </div>
    <div class="top_sep"></div>
        </div>
      <div class="clear"></div>

      <!-- Main-Box  -->
      <div class="grid_24 main_box">
        <!-- Main-Top -->
        <div class="grid_24 alpha main_top"></div>
        <div class="grid_24 alpha main_content">
          <!-- Navigation -->
          <div class="grid_5 alpha">
                  <div class="navibox">
          <div class="navihead">
             <h5>Jolokia</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../features-nb.html" title="Features">Features</a>
            </li>
                  <li class="none">
                          <a href="../support.html" title="Support">Support</a>
            </li>
                  <li class="none">
                          <a href="../forum.html" title="Forum">Forum</a>
            </li>
                  <li class="none">
                          <a href="../irc.html" title="IRC">IRC</a>
            </li>
                  <li class="none">
                          <a href="../license.html" title="License">License</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Documentation</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../documentation.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../tutorial.html" title="Tutorial">Tutorial</a>
            </li>
                  <li class="none">
                          <a href="../reference/html/index.html" title="Reference Manual">Reference Manual</a>
            </li>
                  <li class="none">
                          <a href="../talks.html" title="Talks and Screencasts">Talks and Screencasts</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Agents</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../agent.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../agent/war.html" title="Web Archive (war)">Web Archive (war)</a>
            </li>
                  <li class="none">
                          <a href="../agent/osgi.html" title="Osgi">Osgi</a>
            </li>
                  <li class="none">
                          <a href="../agent/jvm.html" title="JVM">JVM</a>
            </li>
                  <li class="none">
                          <a href="../agent/mule.html" title="Mule">Mule</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Clients</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../client/java.html" title="Java">Java</a>
            </li>
                  <li class="none">
                          <a href="../client/javascript.html" title="Javascript">Javascript</a>
            </li>
                  <li class="none">
                          <a href="../client/perl.html" title="Perl">Perl</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Project Documentation</h5>
            </div>    
            <div class="naviitems">
    <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
    </div>
      </div>
            </div>
          <!-- Main Box -->
          <div class="grid_18 omega">
            <div class="content_box grid_18 alpha">
              <div class="content_top_bg content_top grid_18 alpha"></div>
              <div class="content_content_bg content_content grid_18">
                <!-- ~ Copyright 2009-2013 Roland Huss
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License. -->
  
  
    <div class="section">
<h2><a name="Overview"></a>Overview</h2>
      
<div class="feature_icon_large">
        <img src="../images/features/overview_large.png" alt="Overview" />
      </div>
      
<p>
        Jolokia is an agent based approach for remote JMX access. It
        is an alternative to standard <a class="externalLink" href="http://jcp.org/en/jsr/detail?id=160">JSR 160</a> 
        connectors. The communication between client and agent goes
        over HTTP (either GET or POST), where the request and response
        payload is represented in JSON.
      </p>
      
<p>
        The Jolokia protocol supports the following operations: 
      </p>
      
<ul>
        
<li>Reading and writing JMX attributes</li>
        
<li>Execution of JMX operations</li>
        
<li>Searching for MBean Names by pattern</li>
        
<li>Listing of MBean Meta-data like supported attributes,
        operations and notifications</li>
      </ul>
      
<p>
        Up to now JMX <i>notifications</i> are not supported yet (but
        these are on the roadmap for a future version).
      </p>
      
<p>
        Jolokia's overall architecture is shown in the next
        diagram. The agent translates between JSON over HTTP and calls
        to local MBeans, including a JSON serialization of the return
        values.
      </p>
      
<div align="center" style="margin: 20px 0px;">
        <img src="../images/jolokia_architecture.png" alt="Architecture" />
      </div>
      
<p>
        This approach has some advantages: 
      </p>
      
<ul>
        
<li>
          With help of the agent Jolokia is able to provide services
          which go beyond the functionality of JSR-160 connectors:
          
<ul>
            
<li>
              <a href="bulk-requests.html">Bulk requests</a> which
               allow for multiple JMX calls within a single request
            </li>
            
<li>
              Fine grained <a href="security.html">security</a> with
              access restriction on MBean operation and attribute
              level. 
            </li>
            
<li>
              Merging of multiple <tt>MBeanServer</tt> into one
              virtual view, so there's no need to know in advance
              which MBean is registered on which
              <tt>MBeanServer</tt>. With JSR-160 the target
              <tt>MBeanServer</tt> has to be known in advance.
            </li>
            
<li>
              History mode for storing previous fetched values in a
              cache on the server side, along with a time stamp. This
              is especially useful to calculate the change of JMX
              attributes without need of a client storage.
            </li>
            
<li>
              No Java is required on the <a href="polyglot.html">client</a> side due to the platform
              neutral nature of HTTP and JSON.
            </li>
            
<li> 
              JSON serialization allows for deep access into returned
              objects without having custom type definitions installed
              on the client side.
            </li>
          </ul>
        </li>
        
<li>
          Since HTTP uses a single predefined port, this setup plays nicely with
          <a href="firewall.html">firewall</a> configuration. The
          JSR-160 default connector in contrast is not that smart
          since RMI uses a random port for its communication by
          default. 
        </li>
        
<li>
          As paradox as it might sound, setting up an agent is often
          <a href="simple.html">easier</a> than setting up the
          configuration for JSR-160 JMX export, especially when it
          comes to security. Typically, for JSR-160 export startup
          files and configuration of the application server has to be
          adapted. The standard agent gets deployed as a regular
          web-application, which is a well known procedure.
        </li>
      </ul>
      
<p>
        The single disadvantage of this mode is, that an agent has to
        be installed. This might be for policy reasons that no
        external application is allowed to be installed. Or all
        servers to be monitored are already prepared for JSR-160 JMX
        export so an extra installation step is not welcome. Also,
        updating Jolokia normally implies a redeployment of the
        agent. These are all good reasons, for which Jolokia has an
        answer, too. By installing a dedicated JEE-Server with an
        deployed agent, Jolokia can operate in  <a href="proxy.html">proxy mode</a>, in which case it translate
        Jolokia JSON request into JSR-160 client request for operation
        on the target server. Vice versa, the result over a JSR-160
        connector then gets translated into a JSON response which is
        returned to Jolokia client. 
      </p>
      
<div class="section">
<h3><a name="Example"></a>Example</h3>
        
<p>
          In order to get a feeling how the Jolokia protocol looks like,
          here is an example of a simple Jolokia request and
          response. Assuming that an <a href="../agent.html">agent</a> is installed, the following
          HTTP <tt>GET</tt>
          request reads the used heap memory statistics of the instrumented JVM:
        </p>
        
<div>
<pre>
 http://localhost:8080/jolokia/read/java.lang:type=Memory/HeapMemoryUsage</pre></div>
        
<p>
          <tt>http://localhost:8080/jolokia</tt> is the base URL
          under which the agent is reachable.
          The same request can be done by POSTing the following body
          to the URL <tt>http://localhost:8080/jolokia</tt>:
        </p>
        
<div>
<pre class="prettyprint">
  {
    &quot;mbean&quot;:&quot;java.lang:type=Memory&quot;,
    &quot;attribute&quot;:&quot;HeapMemoryUsage&quot;,
    &quot;type&quot;:&quot;READ&quot;
  }</pre></div>
         
<p>
           In both cases, the response contains an JSON object:
         </p>
        
<div>
<pre class="prettyprint">
  {
    &quot;timestamp&quot;:1285531108,
    &quot;status&quot;:200,
    &quot;request&quot;: {
                 &quot;mbean&quot;:&quot;java.lang:type=Memory&quot;,
                 &quot;attribute&quot;:&quot;HeapMemoryUsage&quot;,
                 &quot;type&quot;:&quot;read&quot;
               }, 
     &quot;value&quot;: {
                &quot;max&quot;:&quot;129957888&quot;,
                &quot;committed&quot;:&quot;85000192&quot;,
                &quot;init&quot;:&quot;0&quot;,
                &quot;used&quot;:&quot;7713440&quot;
              }
  }</pre></div>
      </div>
      
<div class="section">
<h3><a name="Next"></a>Next</h3>
        
<ul>
          
<li>
            Learn something about <a href="bulk-requests.html">bulk JMX requests</a>.
          </li>
          
<li>
            See why jolokia is the <a href="polyglot.html">perfect choice</a> for non-Java environments 
            to access Java servers via JMX.
          </li>
          
<li>
            Go Back to the <a href="../features-nb.html">Features Overview</a>.
          </li>
        </ul>
      </div>
    </div>
      

              </div>
              <div class="content_bottom_bg content_bottom grid_18 omega"></div>
            </div>
          </div>
          <div class="grid_24 alpha">
            <div class="copyright_footer">Copyright &#169;                   2015 Roland Hu&szlig;. 
          All Rights Reserved.      
                
                 <span id="publishDate">Last Published: 2015-10-05</span>
              &nbsp;| <span id="projectVersion">Version: 1.3.3-SNAPSHOT</span>
            </div>
          </div>
          <div class="clear"></div>
        </div>
        <!-- Main Bottom -->
        <div class="grid_24 alpha main_bottom"></div>        
      </div>
    </div>
  </body>
</html>
  
