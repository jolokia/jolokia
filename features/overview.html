<!DOCTYPE html>
<!-- Generated by Apache Maven Doxia at 2024-12-04 -->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="keywords" content="jmx, rest, json, http, agent, jmx-rest-bridge, java, jmx4perl, jsr-160, jmx-rest">
  <title>                                    Jolokia &#x2013; Overview                          </title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap">
  <style media="all">
    @import url("../css/reset.css");
    @import url("../css/text.css");
    @import url("../css/maven-theme-jolokia.css");
    @import url("../css/site.css");
  </style>
  <script data-cfasync="false">
    let host = "jolokia.org";
      if ((host === window.location.host) && (window.location.protocol !== "https:")) {
        window.location.protocol = "https";
      }
  </script>
  <script src="../js/prettify/prettify.js"></script>
  <link rel="stylesheet" href="../css/print.css" media="print">
  <link rel="icon" type="image/png" href="../images/favicon.png">
  <meta name="Date-Creation-yyyymmdd" content="20241204" />
  <meta name="Date-Revision-yyyymmdd" content="20241204" />
  <meta http-equiv="Content-Language" content="en" />
  
</head>
<body>
<div class="container">
  <!-- Header -->
  <div class="header">
    <div class="header-image"></div>
  </div>

  <!-- Top-Bar  -->
  <nav class="header">
      <div class="top_left"></div>
      <div class="top_link">
        <a href="../index.html">Home</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../download.html">Download</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../features.html">Features</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../documentation.html">Documentation</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../support.html">Support</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="https://ro14nd.de">Blog</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../about.html">About</a>
    </div>
    <div class="top_sep"></div>
    </nav>

  <main>
    <nav class="menu">
            <div class="navibox">
          <div class="navihead">
             <h5>Jolokia</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../libraries.html" title="Libraries">Libraries</a>
            </li>
                  <li class="none">
                          <a href="../migration.html" title="Migration to 2.0">Migration to 2.0</a>
            </li>
                  <li class="none">
                          <a href="../features.html" title="Features">Features</a>
            </li>
                  <li class="none">
                          <a href="../support.html" title="Support">Support</a>
            </li>
                  <li class="none">
                          <a href="../license.html" title="License">License</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Documentation</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../documentation.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../concepts.html" title="Concepts">Concepts</a>
            </li>
                  <li class="none">
                          <a href="../tutorial.html" title="Tutorial">Tutorial</a>
            </li>
                  <li class="none">
                          <a href="../reference/html/index.html" title="Reference Manual">Reference Manual</a>
            </li>
                  <li class="none">
                          <a href="../talks.html" title="Talks and Screencasts">Talks and Screencasts</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Agents</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../agent.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../agent/war.html" title="Web Archive (war)">Web Archive (war)</a>
            </li>
                  <li class="none">
                          <a href="../agent/osgi.html" title="Osgi">Osgi</a>
            </li>
                  <li class="none">
                          <a href="../agent/jvm.html" title="JVM">JVM</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Clients</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../client/java.html" title="Java">Java</a>
            </li>
                  <li class="none">
                          <a href="../client/javascript.html" title="JavaScript">JavaScript</a>
            </li>
                  <li class="none">
                          <a href="../client/perl.html" title="Perl">Perl</a>
            </li>
                  <li class="none">
                          <a href="../client/curl.html" title="Curl">Curl</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Project Documentation</h5>
            </div>    
            <div class="naviitems">
    <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
    </div>
      </div>
      </nav>
    <div class="main">
      <!-- Page content -->
      <div class="sect1">
<h2 id="overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image right"><img src="../images/features/overview_large.png" alt="Overview"/></span>
Jolokia is an agent based approach for remote JMX access. It
is an alternative to standard
<a href="https://jcp.org/en/jsr/detail?id=160" class="externalLink" target="_blank" rel="noopener">JSR 160</a>
connectors. The communication between client and agent goes
over HTTP (either GET or POST), where the request and response
payload is represented in JSON.</p>
</div>
<div class="paragraph">
<p>The Jolokia protocol supports the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reading and writing JMX attributes</p>
</li>
<li>
<p>Execution of JMX operations</p>
</li>
<li>
<p>Searching for MBean Names by pattern</p>
</li>
<li>
<p>Listing of MBean Meta-data like supported attributes,
operations and notifications</p>
</li>
<li>
<p><mark>new in Jolokia 2</mark> Registering to and receiving JMX notifications</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Jolokia&#8217;s overall architecture is shown in the next
diagram. The agent translates between JSON over HTTP and calls
to local MBeans, including a JSON serialization of the return
values.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../images/jolokia_architecture.png" alt="Architecture"/>
</div>
</div>
<div class="paragraph">
<p>This approach has some advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With help of the agent Jolokia is able to provide services
which go beyond the functionality of JSR-160 connectors:</p>
<div class="ulist">
<ul>
<li>
<p><a href="bulk-requests.html">Bulk requests</a> which
allow for multiple JMX calls within a single request</p>
</li>
<li>
<p>Fine grained <a href="security.html">security</a> with
access restriction on MBean operation and attribute
level.</p>
</li>
<li>
<p>Merging of multiple <code>MBeanServer</code> into one
virtual view, so there&#8217;s no need to know in advance
which MBean is registered in which
<code>MBeanServer</code>. With JSR-160 the target
<code>MBeanServer</code> has to be known in advance.</p>
</li>
<li>
<p>History mode for storing previous fetched values in a
cache on the server side, along with a time stamp. This
is especially useful to calculate the change of JMX
attributes without need of a client storage.</p>
</li>
<li>
<p>No Java is required on the
<a href="polyglot.html">client</a> side due to the platform
neutral nature of HTTP and JSON.</p>
</li>
<li>
<p>JSON serialization allows for deep access into returned
objects without having custom type definitions installed
on the client side.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Since HTTP uses a single predefined port, this setup plays nicely with
<a href="firewall.html">firewall</a> configuration. The
JSR-160 default connector in contrast is not that smart
since RMI uses a random port for its communication by
default.</p>
</li>
<li>
<p>As paradox as it might sound, setting up an agent is often
<a href="simple.html">easier</a> than setting up the
configuration for JSR-160 JMX export, especially when it
comes to security. Typically, for JSR-160 export startup
files and configuration of the application server has to be
adapted. The standard agent gets deployed as a regular
web-application, which is a well known procedure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The single disadvantage of this mode is, that an agent has to
be installed. This might be for policy reasons that no
external application is allowed to be installed. Or all
servers to be monitored are already prepared for JSR-160 JMX
export so an extra installation step is not welcome. Also,
updating Jolokia normally implies a redeployment of the
agent. These are all good reasons, for which Jolokia has an
answer, too. By installing a dedicated Java EE-Server with an
deployed agent, Jolokia can operate in
<a href="proxy.html">proxy mode</a>, in which case it translate
Jolokia JSON request into JSR-160 client request for operation
on the target server. Vice versa, the result over a JSR-160
connector then gets translated into a JSON response which is
returned to Jolokia client.</p>
</div>
<div class="sect2">
<h3 id="example">Example</h3>
<div class="paragraph">
<p>In order to get a feeling how the Jolokia protocol looks like,
here is an example of a simple Jolokia request and
response. Assuming that an
<a href="../agent.html">agent</a> is installed, the following
HTTP <code>GET</code>
request reads the used heap memory statistics of the instrumented JVM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://localhost:8080/jolokia/read/java.lang:type=Memory/HeapMemoryUsage</pre>
</div>
</div>
<div class="paragraph">
<p><code><a href="http://localhost:8080/jolokia" class="bare">http://localhost:8080/jolokia</a></code> is the base URL
under which the agent is reachable.
The same request can be done by POSTing the following body
to the URL <code><a href="http://localhost:8080/jolokia" class="bare">http://localhost:8080/jolokia</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"read"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mbean"</span><span class="p">:</span><span class="s2">"java.lang:type=Memory"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attribute"</span><span class="p">:</span><span class="s2">"HeapMemoryUsage"</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In both cases, the full response contains a JSON object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"mbean"</span><span class="p">:</span><span class="w"> </span><span class="s2">"java.lang:type=Memory"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attribute"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HeapMemoryUsage"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"read"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"init"</span><span class="p">:</span><span class="w"> </span><span class="mi">524288000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"committed"</span><span class="p">:</span><span class="w"> </span><span class="mi">532676608</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">8334082048</span><span class="p">,</span><span class="w">
    </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="mi">49609240</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1701934145</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="next">Next</h3>
<div class="ulist">
<ul>
<li>
<p>Learn something about <a href="bulk-requests.html">bulk JMX requests</a>.</p>
</li>
<li>
<p>See why jolokia is the <a href="polyglot.html">perfect choice</a> for non-Java environments
to access Java servers via JMX.</p>
</li>
<li>
<p>Go Back to the <a href="../features.html">Features Overview</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
      <!-- /Page content -->
    </div>
  </main>

  <footer class="copyright">Copyright &#169;                   2024 Roland Hu&szlig;. 
          All Rights Reserved.      
                
                 <span id="publishDate">Last Published: 2024-12-04</span>
              &nbsp;| <span id="projectVersion">Version: 2.1.3-SNAPSHOT</span>
            </footer>
</div>
</body>
</html>
